<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact APS Office</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f0f8fc; /* Soft background for a calming effect */
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s ease, color 0.3s ease;
      color: #000;
    }

    body.dark-mode {
      background-color: #121b22;
      color: #e0e6eb;
    }

    .container {
      text-align: center;
      background-color: white;
      padding: 40px;
      border-radius: 15px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
      max-width: 450px;
      width: 90%;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    body.dark-mode .container {
      background-color: #1f2a34;
      color: #e0e6eb;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.6);
    }

    img.logo {
      width: 250px;
      margin-bottom: 20px;
    }

    h1 {
      color: #115f66;
      font-size: 28px;
      margin-bottom: 20px;
      transition: color 0.3s ease;
    }

    body.dark-mode h1 {
      color: white;
    }

    p {
      font-size: 16px;
      color: #555;
      margin-bottom: 30px;
      transition: color 0.3s ease;
    }

    body.dark-mode p {
      color: #c5d1d8;
    }

    .button-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      position: relative;
      margin-bottom: 40px;
    }

    a.button {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 15px 20px;
      background-color: #115f66;
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      font-size: 16px;
      border-radius: 10px;
      transition: background-color 0.3s ease, transform 0.2s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      z-index: 1;
    }

    a.button:hover {
      background-color: #177b84;
      transform: translateY(-2px);
    }

    a.button:focus {
      outline: 4px solid #177b84;
      outline-offset: 2px;
    }

    a.button i {
      font-size: 20px;
    }

    /* Tooltip styling */
    a.button[data-tooltip]:hover::after,
    a.button[data-tooltip]:focus::after {
      content: attr(data-tooltip);
      position: absolute;
      top: -35px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 6px 10px;
      border-radius: 6px;
      font-size: 14px;
      white-space: nowrap;
      pointer-events: none;
      z-index: 9999; /* Ensures tooltip is above all buttons */
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
    }

    /* Form styling */
    form#helpForm {
      text-align: left;
      max-width: 450px;
      margin: 0 auto 20px;
    }

    form#helpForm label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
    }

    form#helpForm input,
    form#helpForm textarea {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
      margin-bottom: 15px;
      font-size: 15px;
      transition: border-color 0.3s ease;
      font-family: inherit;
    }

    body.dark-mode form#helpForm input,
    body.dark-mode form#helpForm textarea {
      background-color: #2a3a46;
      color: #e0e6eb;
      border: 1px solid #555;
    }

    form#helpForm input:focus,
    form#helpForm textarea:focus {
      border-color: #115f66;
      outline: none;
    }

    form#helpForm button {
      background-color: #115f66;
      color: white;
      font-weight: bold;
      border: none;
      padding: 14px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
      width: 100%;
    }

    form#helpForm button:hover {
      background-color: #177b84;
    }

    /* Response message styling */
    #formResponse {
      font-weight: bold;
      font-size: 16px;
      margin-top: 10px;
      color: green;
      text-align: center;
    }

    /* Footer */
    footer {
      margin-top: 20px;
      text-align: center;
      font-size: 14px;
      color: #777;
      transition: color 0.3s ease;
    }

    body.dark-mode footer {
      color: #a1b3bc;
    }

    footer span {
      font-weight: bold;
      color: #115f66;
    }

    @media (max-width: 500px) {
      h1 {
        font-size: 24px;
      }

      p {
        font-size: 14px;
      }

      a.button {
        font-size: 14px;
        padding: 12px 16px;
      }

      form#helpForm button {
        font-size: 14px;
        padding: 12px 16px;
      }
    }

    /* Dark mode toggle button */
    #darkModeToggle {
      position: fixed;
      top: 15px;
      right: 15px;
      padding: 10px 16px;
      background-color: #115f66;
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-weight: bold;
      font-size: 14px;
      z-index: 10000;
      transition: background-color 0.3s ease;
    }

    #darkModeToggle:hover {
      background-color: #177b84;
    }
  </style>

  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>

<body>

  <button id="darkModeToggle" aria-pressed="false" aria-label="Toggle dark mode">🌙 Dark Mode</button>

  <div class="container" role="main">
    <img src="KFUPM APS Logo-01.png" alt="APS Logo" class="logo" />
    <h1>Contact APS Office</h1>
    <p>We are here to help! Please select the option that best matches your needs. You’ll be guided to email us with a template of the necessary details.</p>
    <div class="button-container">
      <!-- Button: I am facing an issue -->
      <a class="button" href="mailto:aps@kfupm.edu.sa?subject=I%20am%20facing%20an%20issue&body=Hello%20APS%20Office%2C%0A%0AI%20am%20experiencing%20an%20issue%20and%20would%20appreciate%20your%20help.%20Here%20are%20the%20details%3A%0A%0A-%20What%20is%20the%20issue%3F%20%28Please%20describe%20it%20briefly%29%0A-%20When%20did%20it%20start%3F%20%28Provide%20a%20date%20if%20possible%29%0A-%20Steps%20you%20have%20already%20taken%20to%20resolve%20it%3A%0A%0AThank%20you%20in%20advance%20for%20your%20support.%0A%0ABest%20regards%2C%0A%5BYour%20Name%5D"
         data-tooltip="Opens your email with an issue template">
        <i class="fas fa-exclamation-circle"></i> I am facing an issue
      </a>
      <!-- Button: I have an inquiry -->
      <a class="button" href="mailto:aps@kfupm.edu.sa?subject=I%20have%20an%20inquiry&body=Hello%20APS%20Office%2C%0A%0AI%20have%20a%20question%20that%20I%20hope%20you%20can%20help%20me%20with.%20Here%20are%20the%20details%3A%0A%0A-%20What%20is%20your%20question%3F%20%28Be%20as%20specific%20as%20possible%29%0A-%20Is%20there%20any%20relevant%20background%20information%20we%20should%20know%3F%0A%0AThank%20you%20so%20much%20for%20your%20time%20and%20assistance.%0A%0ABest%20regards%2C%0A%5BYour%20Name%5D"
         data-tooltip="Opens your email with an inquiry template">
        <i class="fas fa-question-circle"></i> I have an inquiry
      </a>
      <!-- Button: Suggestions -->
      <a class="button" href="mailto:aps@kfupm.edu.sa?subject=Suggestions&body=Hello%20APS%20Office%2C%0A%0AI%20would%20like%20to%20share%20a%20suggestion%20that%20I%20believe%20could%20be%20helpful.%20Here%20are%20the%20details%3A%0A%0A-%20What%20is%20your%20suggestion%3F%20%28Please%20describe%20it%20briefly%29%0A-%20How%20could%20this%20improve%20our%20services%3F%0A%0AThank%20you%20for%20considering%20my%20input.%20I%20appreciate%20your%20time%20and%20effort.%0A%0ABest%20regards%2C%0A%5BYour%20Name%5D"
         data-tooltip="Opens your email with a suggestion template">
        <i class="fas fa-lightbulb"></i> Suggestions
      </a>
    </div>

    <!-- AJAX Form: How can we help? -->
    <form id="helpForm" aria-label="How can we help? form">
      <label for="name">Your Name</label>
      <input type="text" id="name" name="name" required placeholder="Enter your full name" autocomplete="name" />

      <label for="email">Your Email</label>
      <input type="email" id="email" name="email" required placeholder="Enter your email" autocomplete="email" />

      <label for="message">Your Message</label>
      <textarea id="message" name="message" rows="5" required placeholder="How can we help?"></textarea>

      <button type="submit">Send Message</button>
      <div id="formResponse" role="alert" aria-live="polite"></div>
    </form>
  </div>

  <!-- Footer with designer credit -->
  <footer>
    <span>Designed π Hadi</span>
  </footer>

  <script>
    // Dark mode toggle setup
    const darkToggleBtn = document.getElementById('darkModeToggle');
    const body = document.body;

    function applyDarkMode(isDark) {
      if (isDark) {
        body.classList.add('dark-mode');
        darkToggleBtn.textContent = '☀️ Light Mode';
        darkToggleBtn.setAttribute('aria-pressed', 'true');
      } else {
        body.classList.remove('dark-mode');
        darkToggleBtn.textContent = '🌙 Dark Mode';
        darkToggleBtn.setAttribute('aria-pressed', 'false');
      }
      try {
        localStorage.setItem('aps_dark_mode', isDark ? '1' : '0');
      } catch(e) {}
    }

    (function initDarkMode() {
      let saved = null;
      try {
        saved = localStorage.getItem('aps_dark_mode');
      } catch(e) {}
      if (saved === '1') {
        applyDarkMode(true);
      } else {
        applyDarkMode(false);
      }
    })();

    darkToggleBtn.addEventListener('click', () => {
      applyDarkMode(!body.classList.contains('dark-mode'));
    });

    // AJAX form submission for "How can we help?"
    const helpForm = document.getElementById('helpForm');
    const formResponse = document.getElementById('formResponse');

    helpForm.addEventListener('submit', (e) => {
      e.preventDefault();

      // Collect form data
      const formData = {
        name: helpForm.name.value.trim(),
        email: helpForm.email.value.trim(),
        message: helpForm.message.value.trim(),
      };

      // Simple validation (already required by inputs, but just in case)
      if (!formData.name || !formData.email || !formData.message) {
        formResponse.style.color = 'red';
        formResponse.textContent = 'Please fill out all fields.';
        return;
      }

      // Simulate AJAX submission
      formResponse.style.color = '#115f66';
      formResponse.textContent = 'Sending message...';

      // Simulate delay (e.g., server request)
      setTimeout(() => {
        formResponse.textContent = 'Thank you! Your message has been sent. How can we help?';
        helpForm.reset();
      }, 1500);
    });
  </script>
</body>
</html>
